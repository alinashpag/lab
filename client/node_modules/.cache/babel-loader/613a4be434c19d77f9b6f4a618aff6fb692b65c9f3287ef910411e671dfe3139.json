{"ast":null,"code":"var _jsxFileName = \"/Users/shadownight/Documents/react-app/client/src/pages/Admin/AdminReports.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiFileText, FiDownload, FiClock, FiCheckCircle, FiAlertCircle } from 'react-icons/fi';\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  padding: 2rem;\n  max-width: 1400px;\n  margin: 0 auto;\n`;\n_c = Container;\nconst Header = styled.div`\n  margin-bottom: 2rem;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  font-size: 2rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n  margin-bottom: 0.5rem;\n`;\n_c3 = Title;\nconst Subtitle = styled.p`\n  color: ${props => props.theme.colors.textMuted};\n  font-size: 1rem;\n`;\n_c4 = Subtitle;\nconst StatsRow = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 2rem;\n`;\n_c5 = StatsRow;\nconst StatCard = styled.div`\n  background: ${props => props.theme.colors.cardBackground};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 8px;\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n`;\n_c6 = StatCard;\nconst StatIcon = styled.div`\n  width: 48px;\n  height: 48px;\n  border-radius: 8px;\n  background: ${props => props.color}20;\n  color: ${props => props.color};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n`;\n_c7 = StatIcon;\nconst StatContent = styled.div``;\n_c8 = StatContent;\nconst StatValue = styled.div`\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n`;\n_c9 = StatValue;\nconst StatLabel = styled.div`\n  font-size: 0.875rem;\n  color: ${props => props.theme.colors.textMuted};\n`;\n_c0 = StatLabel;\nconst TableContainer = styled.div`\n  background: ${props => props.theme.colors.cardBackground};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 8px;\n  overflow: hidden;\n`;\n_c1 = TableContainer;\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n`;\n_c10 = Table;\nconst Th = styled.th`\n  background: ${props => props.theme.colors.background};\n  padding: 1rem;\n  text-align: left;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n`;\n_c11 = Th;\nconst Td = styled.td`\n  padding: 1rem;\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n  color: ${props => props.theme.colors.text};\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n_c12 = Td;\nconst StatusBadge = styled.span`\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  background: ${props => {\n  switch (props.status) {\n    case 'ready':\n      return '#059669';\n    case 'generating':\n      return '#D97706';\n    case 'failed':\n      return '#DC2626';\n    default:\n      return '#6B7280';\n  }\n}}20;\n  color: ${props => {\n  switch (props.status) {\n    case 'ready':\n      return '#059669';\n    case 'generating':\n      return '#D97706';\n    case 'failed':\n      return '#DC2626';\n    default:\n      return '#6B7280';\n  }\n}};\n`;\n_c13 = StatusBadge;\nconst DownloadButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  background: ${props => props.theme.colors.primary};\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ${props => props.theme.colors.primaryDark};\n  }\n\n  &:disabled {\n    background: ${props => props.theme.colors.border};\n    cursor: not-allowed;\n  }\n`;\n_c14 = DownloadButton;\nconst ErrorMessage = styled.div`\n  text-align: center;\n  padding: 2rem;\n  color: ${props => props.theme.colors.textMuted};\n`;\n_c15 = ErrorMessage;\nconst AdminReports = () => {\n  _s();\n  const [stats, setStats] = useState(null);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    loadData();\n  }, []);\n  const loadData = async () => {\n    try {\n      setLoading(true);\n\n      // Загружаем статистику и список отчетов\n      const [statsResponse, reportsResponse] = await Promise.all([fetch('/api/admin/stats', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`,\n          'Content-Type': 'application/json'\n        }\n      }), fetch('/api/reports', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`,\n          'Content-Type': 'application/json'\n        }\n      })]);\n      if (statsResponse.ok) {\n        const statsData = await statsResponse.json();\n        setStats(statsData.reports);\n      }\n      if (reportsResponse.ok) {\n        const reportsData = await reportsResponse.json();\n        setReports(reportsData || []);\n      }\n    } catch (err) {\n      console.error('Ошибка загрузки данных:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const formatFileSize = bytes => {\n    if (!bytes) return '-';\n    const sizes = ['Б', 'КБ', 'МБ', 'ГБ'];\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];\n  };\n  const handleDownload = async reportId => {\n    try {\n      const response = await fetch(`/api/reports/${reportId}/download`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`\n        }\n      });\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.download = `report-${reportId}.pdf`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } else {\n        throw new Error('Ошибка скачивания отчета');\n      }\n    } catch (err) {\n      console.error('Ошибка скачивания:', err);\n      alert('Ошибка скачивания отчета');\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'ready':\n        return /*#__PURE__*/_jsxDEV(FiCheckCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 28\n        }, this);\n      case 'generating':\n        return /*#__PURE__*/_jsxDEV(FiClock, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 33\n        }, this);\n      case 'failed':\n        return /*#__PURE__*/_jsxDEV(FiAlertCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 29\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(FiFileText, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  const getStatusText = status => {\n    switch (status) {\n      case 'ready':\n        return 'Готов';\n      case 'generating':\n        return 'Генерируется';\n      case 'failed':\n        return 'Ошибка';\n      default:\n        return 'Неизвестно';\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      fullScreen: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadData,\n          children: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043D\\u043E\\u0432\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0442\\u0447\\u0435\\u0442\\u0430\\u043C\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n        children: \"\\u041C\\u043E\\u043D\\u0438\\u0442\\u043E\\u0440\\u0438\\u043D\\u0433 \\u0438 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0432\\u0441\\u0435\\u043C\\u0438 \\u043E\\u0442\\u0447\\u0435\\u0442\\u0430\\u043C\\u0438 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), stats && /*#__PURE__*/_jsxDEV(StatsRow, {\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        children: [/*#__PURE__*/_jsxDEV(StatIcon, {\n          color: \"#059669\",\n          children: /*#__PURE__*/_jsxDEV(FiCheckCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StatContent, {\n          children: [/*#__PURE__*/_jsxDEV(StatValue, {\n            children: stats.ready || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n            children: \"\\u0413\\u043E\\u0442\\u043E\\u0432\\u044B\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        children: [/*#__PURE__*/_jsxDEV(StatIcon, {\n          color: \"#D97706\",\n          children: /*#__PURE__*/_jsxDEV(FiClock, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StatContent, {\n          children: [/*#__PURE__*/_jsxDEV(StatValue, {\n            children: stats.generating || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n            children: \"\\u0413\\u0435\\u043D\\u0435\\u0440\\u0438\\u0440\\u0443\\u044E\\u0442\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        children: [/*#__PURE__*/_jsxDEV(StatIcon, {\n          color: \"#4F46E5\",\n          children: /*#__PURE__*/_jsxDEV(FiDownload, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StatContent, {\n          children: [/*#__PURE__*/_jsxDEV(StatValue, {\n            children: stats.downloads || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n            children: \"\\u0421\\u043A\\u0430\\u0447\\u0438\\u0432\\u0430\\u043D\\u0438\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        children: [/*#__PURE__*/_jsxDEV(StatIcon, {\n          color: \"#7C3AED\",\n          children: /*#__PURE__*/_jsxDEV(FiFileText, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StatContent, {\n          children: [/*#__PURE__*/_jsxDEV(StatValue, {\n            children: stats.total || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n            children: \"\\u0412\\u0441\\u0435\\u0433\\u043E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(Th, {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0422\\u0438\\u043F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: reports.length > 0 ? reports.slice(0, 50).map(report => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(Td, {\n              children: [\"#\", report.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: report.name || `Отчет #${report.id}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: report.type || report.report_type || 'PDF'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: report.project_name || report.projectName || `Проект #${report.project_id || report.projectId}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n                status: report.status,\n                children: [getStatusIcon(report.status), \" \", getStatusText(report.status)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: formatFileSize(report.file_size || report.fileSize)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: report.created_at || report.createdAt ? new Date(report.created_at || report.createdAt).toLocaleDateString('ru-RU') : '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: /*#__PURE__*/_jsxDEV(DownloadButton, {\n                onClick: () => handleDownload(report.id),\n                disabled: report.status !== 'ready',\n                children: [/*#__PURE__*/_jsxDEV(FiDownload, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 23\n                }, this), \"\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 19\n            }, this)]\n          }, report.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(Td, {\n              colSpan: \"8\",\n              style: {\n                textAlign: 'center',\n                color: '#6B7280'\n              },\n              children: \"\\u041E\\u0442\\u0447\\u0435\\u0442\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminReports, \"mS5vS5pPUvZeXWOxajpzWSfBMKw=\");\n_c16 = AdminReports;\nexport default AdminReports;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Subtitle\");\n$RefreshReg$(_c5, \"StatsRow\");\n$RefreshReg$(_c6, \"StatCard\");\n$RefreshReg$(_c7, \"StatIcon\");\n$RefreshReg$(_c8, \"StatContent\");\n$RefreshReg$(_c9, \"StatValue\");\n$RefreshReg$(_c0, \"StatLabel\");\n$RefreshReg$(_c1, \"TableContainer\");\n$RefreshReg$(_c10, \"Table\");\n$RefreshReg$(_c11, \"Th\");\n$RefreshReg$(_c12, \"Td\");\n$RefreshReg$(_c13, \"StatusBadge\");\n$RefreshReg$(_c14, \"DownloadButton\");\n$RefreshReg$(_c15, \"ErrorMessage\");\n$RefreshReg$(_c16, \"AdminReports\");","map":{"version":3,"names":["React","useState","useEffect","styled","FiFileText","FiDownload","FiClock","FiCheckCircle","FiAlertCircle","LoadingSpinner","jsxDEV","_jsxDEV","Container","div","_c","Header","_c2","Title","h1","props","theme","colors","text","_c3","Subtitle","p","textMuted","_c4","StatsRow","_c5","StatCard","cardBackground","border","_c6","StatIcon","color","_c7","StatContent","_c8","StatValue","_c9","StatLabel","_c0","TableContainer","_c1","Table","table","_c10","Th","th","background","_c11","Td","td","_c12","StatusBadge","span","status","_c13","DownloadButton","button","primary","primaryDark","_c14","ErrorMessage","_c15","AdminReports","_s","stats","setStats","reports","setReports","loading","setLoading","error","setError","loadData","statsResponse","reportsResponse","Promise","all","fetch","headers","localStorage","getItem","ok","statsData","json","reportsData","err","console","message","formatFileSize","bytes","sizes","i","Math","floor","log","round","pow","handleDownload","reportId","response","blob","url","window","URL","createObjectURL","a","document","createElement","style","display","href","download","body","appendChild","click","revokeObjectURL","removeChild","Error","alert","getStatusIcon","fileName","_jsxFileName","lineNumber","columnNumber","getStatusText","fullScreen","children","onClick","ready","generating","downloads","total","length","slice","map","report","id","name","type","report_type","project_name","projectName","project_id","projectId","file_size","fileSize","created_at","createdAt","Date","toLocaleDateString","disabled","colSpan","textAlign","_c16","$RefreshReg$"],"sources":["/Users/shadownight/Documents/react-app/client/src/pages/Admin/AdminReports.js"],"sourcesContent":[" import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiFileText, FiDownload, FiClock, FiCheckCircle, FiAlertCircle } from 'react-icons/fi';\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\n\nconst Container = styled.div`\n  padding: 2rem;\n  max-width: 1400px;\n  margin: 0 auto;\n`;\n\nconst Header = styled.div`\n  margin-bottom: 2rem;\n`;\n\nconst Title = styled.h1`\n  font-size: 2rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n  margin-bottom: 0.5rem;\n`;\n\nconst Subtitle = styled.p`\n  color: ${props => props.theme.colors.textMuted};\n  font-size: 1rem;\n`;\n\nconst StatsRow = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 2rem;\n`;\n\nconst StatCard = styled.div`\n  background: ${props => props.theme.colors.cardBackground};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 8px;\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst StatIcon = styled.div`\n  width: 48px;\n  height: 48px;\n  border-radius: 8px;\n  background: ${props => props.color}20;\n  color: ${props => props.color};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n`;\n\nconst StatContent = styled.div``;\n\nconst StatValue = styled.div`\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n`;\n\nconst StatLabel = styled.div`\n  font-size: 0.875rem;\n  color: ${props => props.theme.colors.textMuted};\n`;\n\nconst TableContainer = styled.div`\n  background: ${props => props.theme.colors.cardBackground};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 8px;\n  overflow: hidden;\n`;\n\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n`;\n\nconst Th = styled.th`\n  background: ${props => props.theme.colors.background};\n  padding: 1rem;\n  text-align: left;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n`;\n\nconst Td = styled.td`\n  padding: 1rem;\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n  color: ${props => props.theme.colors.text};\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst StatusBadge = styled.span`\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  background: ${props => {\n    switch (props.status) {\n      case 'ready': return '#059669';\n      case 'generating': return '#D97706';\n      case 'failed': return '#DC2626';\n      default: return '#6B7280';\n    }\n  }}20;\n  color: ${props => {\n    switch (props.status) {\n      case 'ready': return '#059669';\n      case 'generating': return '#D97706';\n      case 'failed': return '#DC2626';\n      default: return '#6B7280';\n    }\n  }};\n`;\n\nconst DownloadButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  background: ${props => props.theme.colors.primary};\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ${props => props.theme.colors.primaryDark};\n  }\n\n  &:disabled {\n    background: ${props => props.theme.colors.border};\n    cursor: not-allowed;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  text-align: center;\n  padding: 2rem;\n  color: ${props => props.theme.colors.textMuted};\n`;\n\nconst AdminReports = () => {\n  const [stats, setStats] = useState(null);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      \n      // Загружаем статистику и список отчетов\n      const [statsResponse, reportsResponse] = await Promise.all([\n        fetch('/api/admin/stats', {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`,\n            'Content-Type': 'application/json'\n          }\n        }),\n        fetch('/api/reports', {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`,\n            'Content-Type': 'application/json'\n          }\n        })\n      ]);\n\n      if (statsResponse.ok) {\n        const statsData = await statsResponse.json();\n        setStats(statsData.reports);\n      }\n\n      if (reportsResponse.ok) {\n        const reportsData = await reportsResponse.json();\n        setReports(reportsData || []);\n      }\n\n    } catch (err) {\n      console.error('Ошибка загрузки данных:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (!bytes) return '-';\n    \n    const sizes = ['Б', 'КБ', 'МБ', 'ГБ'];\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];\n  };\n\n  const handleDownload = async (reportId) => {\n    try {\n      const response = await fetch(`/api/reports/${reportId}/download`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`\n        }\n      });\n\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.download = `report-${reportId}.pdf`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } else {\n        throw new Error('Ошибка скачивания отчета');\n      }\n    } catch (err) {\n      console.error('Ошибка скачивания:', err);\n      alert('Ошибка скачивания отчета');\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'ready': return <FiCheckCircle />;\n      case 'generating': return <FiClock />;\n      case 'failed': return <FiAlertCircle />;\n      default: return <FiFileText />;\n    }\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'ready': return 'Готов';\n      case 'generating': return 'Генерируется';\n      case 'failed': return 'Ошибка';\n      default: return 'Неизвестно';\n    }\n  };\n\n  if (loading) {\n    return <LoadingSpinner fullScreen />;\n  }\n\n  if (error) {\n    return (\n      <Container>\n        <ErrorMessage>\n          <h2>Ошибка загрузки данных</h2>\n          <p>{error}</p>\n          <button onClick={loadData}>Попробовать снова</button>\n        </ErrorMessage>\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <Header>\n        <Title>Управление отчетами</Title>\n        <Subtitle>Мониторинг и управление всеми отчетами в системе</Subtitle>\n      </Header>\n\n      {stats && (\n        <StatsRow>\n          <StatCard>\n            <StatIcon color=\"#059669\">\n              <FiCheckCircle />\n            </StatIcon>\n            <StatContent>\n              <StatValue>{stats.ready || 0}</StatValue>\n              <StatLabel>Готовые</StatLabel>\n            </StatContent>\n          </StatCard>\n\n          <StatCard>\n            <StatIcon color=\"#D97706\">\n              <FiClock />\n            </StatIcon>\n            <StatContent>\n              <StatValue>{stats.generating || 0}</StatValue>\n              <StatLabel>Генерируются</StatLabel>\n            </StatContent>\n          </StatCard>\n\n          <StatCard>\n            <StatIcon color=\"#4F46E5\">\n              <FiDownload />\n            </StatIcon>\n            <StatContent>\n              <StatValue>{stats.downloads || 0}</StatValue>\n              <StatLabel>Скачиваний</StatLabel>\n            </StatContent>\n          </StatCard>\n\n          <StatCard>\n            <StatIcon color=\"#7C3AED\">\n              <FiFileText />\n            </StatIcon>\n            <StatContent>\n              <StatValue>{stats.total || 0}</StatValue>\n              <StatLabel>Всего</StatLabel>\n            </StatContent>\n          </StatCard>\n        </StatsRow>\n      )}\n\n      <TableContainer>\n        <Table>\n          <thead>\n            <tr>\n              <Th>ID</Th>\n              <Th>Название</Th>\n              <Th>Тип</Th>\n              <Th>Проект</Th>\n              <Th>Статус</Th>\n              <Th>Размер</Th>\n              <Th>Создан</Th>\n              <Th>Действия</Th>\n            </tr>\n          </thead>\n          <tbody>\n            {reports.length > 0 ? (\n              reports.slice(0, 50).map((report) => (\n                <tr key={report.id}>\n                  <Td>#{report.id}</Td>\n                  <Td>{report.name || `Отчет #${report.id}`}</Td>\n                  <Td>{report.type || report.report_type || 'PDF'}</Td>\n                  <Td>{report.project_name || report.projectName || `Проект #${report.project_id || report.projectId}`}</Td>\n                  <Td>\n                    <StatusBadge status={report.status}>\n                      {getStatusIcon(report.status)} {getStatusText(report.status)}\n                    </StatusBadge>\n                  </Td>\n                  <Td>{formatFileSize(report.file_size || report.fileSize)}</Td>\n                  <Td>\n                    {report.created_at || report.createdAt \n                      ? new Date(report.created_at || report.createdAt).toLocaleDateString('ru-RU')\n                      : '-'}\n                  </Td>\n                  <Td>\n                    <DownloadButton\n                      onClick={() => handleDownload(report.id)}\n                      disabled={report.status !== 'ready'}\n                    >\n                      <FiDownload />\n                      Скачать\n                    </DownloadButton>\n                  </Td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <Td colSpan=\"8\" style={{ textAlign: 'center', color: '#6B7280' }}>\n                  Отчеты не найдены\n                </Td>\n              </tr>\n            )}\n          </tbody>\n        </Table>\n      </TableContainer>\n    </Container>\n  );\n};\n\nexport default AdminReports; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}