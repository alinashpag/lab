{"ast":null,"code":"var _jsxFileName = \"/Users/shadownight/Documents/react-app/client/src/pages/Admin/AdminReports.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiFileText, FiDownload, FiClock, FiCheckCircle, FiAlertCircle } from 'react-icons/fi';\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  padding: 2rem;\n  max-width: 1400px;\n  margin: 0 auto;\n`;\n_c = Container;\nconst Header = styled.div`\n  margin-bottom: 2rem;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  font-size: 2rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n  margin-bottom: 0.5rem;\n`;\n_c3 = Title;\nconst Subtitle = styled.p`\n  color: ${props => props.theme.colors.textMuted};\n  font-size: 1rem;\n`;\n_c4 = Subtitle;\nconst StatsRow = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 2rem;\n`;\n_c5 = StatsRow;\nconst StatCard = styled.div`\n  background: ${props => props.theme.colors.cardBackground};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 8px;\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n`;\n_c6 = StatCard;\nconst StatIcon = styled.div`\n  width: 48px;\n  height: 48px;\n  border-radius: 8px;\n  background: ${props => props.color}20;\n  color: ${props => props.color};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n`;\n_c7 = StatIcon;\nconst StatContent = styled.div``;\n_c8 = StatContent;\nconst StatValue = styled.div`\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n`;\n_c9 = StatValue;\nconst StatLabel = styled.div`\n  font-size: 0.875rem;\n  color: ${props => props.theme.colors.textMuted};\n`;\n_c0 = StatLabel;\nconst TableContainer = styled.div`\n  background: ${props => props.theme.colors.cardBackground};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 8px;\n  overflow: hidden;\n`;\n_c1 = TableContainer;\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n`;\n_c10 = Table;\nconst Th = styled.th`\n  background: ${props => props.theme.colors.background};\n  padding: 1rem;\n  text-align: left;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n`;\n_c11 = Th;\nconst Td = styled.td`\n  padding: 1rem;\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n  color: ${props => props.theme.colors.text};\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n_c12 = Td;\nconst StatusBadge = styled.span`\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  background: ${props => {\n  switch (props.status) {\n    case 'ready':\n      return '#059669';\n    case 'generating':\n      return '#D97706';\n    case 'error':\n      return '#DC2626';\n    default:\n      return '#6B7280';\n  }\n}}20;\n  color: ${props => {\n  switch (props.status) {\n    case 'ready':\n      return '#059669';\n    case 'generating':\n      return '#D97706';\n    case 'error':\n      return '#DC2626';\n    default:\n      return '#6B7280';\n  }\n}};\n`;\n_c13 = StatusBadge;\nconst ErrorMessage = styled.div`\n  text-align: center;\n  padding: 2rem;\n  color: ${props => props.theme.colors.textMuted};\n`;\n_c14 = ErrorMessage;\nconst DownloadButton = styled.button`\n  background: none;\n  border: none;\n  color: ${props => props.theme.colors.primary};\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  border-radius: 4px;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background: ${props => props.theme.colors.primary}10;\n  }\n\n  &:disabled {\n    color: ${props => props.theme.colors.textMuted};\n    cursor: not-allowed;\n  }\n`;\n_c15 = DownloadButton;\nconst AdminReports = () => {\n  _s();\n  const [stats, setStats] = useState(null);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    loadData();\n  }, []);\n  const loadData = async () => {\n    try {\n      setLoading(true);\n\n      // Загружаем статистику и список отчетов\n      const [statsResponse, reportsResponse] = await Promise.all([fetch('/api/admin/stats', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`,\n          'Content-Type': 'application/json'\n        }\n      }), fetch('/api/reports', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`,\n          'Content-Type': 'application/json'\n        }\n      })]);\n      if (statsResponse.ok) {\n        const statsData = await statsResponse.json();\n        setStats(statsData.reports);\n      }\n      if (reportsResponse.ok) {\n        const reportsData = await reportsResponse.json();\n        setReports(reportsData || []);\n      }\n    } catch (err) {\n      console.error('Ошибка загрузки данных:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'ready':\n        return /*#__PURE__*/_jsxDEV(FiCheckCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 28\n        }, this);\n      case 'generating':\n        return /*#__PURE__*/_jsxDEV(FiClock, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 33\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(FiAlertCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 28\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(FiFileText, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  const getStatusText = status => {\n    switch (status) {\n      case 'ready':\n        return 'Готов';\n      case 'generating':\n        return 'Генерируется';\n      case 'error':\n        return 'Ошибка';\n      default:\n        return 'Неизвестно';\n    }\n  };\n  const formatFileSize = bytes => {\n    if (!bytes) return '-';\n    const sizes = ['Б', 'КБ', 'МБ', 'ГБ'];\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];\n  };\n  const handleDownload = report => {\n    if (report.status === 'ready' && report.file_path) {\n      // Создаем ссылку для скачивания\n      const link = document.createElement('a');\n      link.href = report.file_path;\n      link.download = report.filename || `report_${report.id}.pdf`;\n      link.click();\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      fullScreen: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadData,\n          children: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043D\\u043E\\u0432\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0442\\u0447\\u0435\\u0442\\u0430\\u043C\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n        children: \"\\u041C\\u043E\\u043D\\u0438\\u0442\\u043E\\u0440\\u0438\\u043D\\u0433 \\u0438 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0432\\u0441\\u0435\\u043C\\u0438 \\u043E\\u0442\\u0447\\u0435\\u0442\\u0430\\u043C\\u0438 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), stats && /*#__PURE__*/_jsxDEV(StatsRow, {\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        children: [/*#__PURE__*/_jsxDEV(StatIcon, {\n          color: \"#059669\",\n          children: /*#__PURE__*/_jsxDEV(FiCheckCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StatContent, {\n          children: [/*#__PURE__*/_jsxDEV(StatValue, {\n            children: stats.ready || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n            children: \"\\u0413\\u043E\\u0442\\u043E\\u0432\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        children: [/*#__PURE__*/_jsxDEV(StatIcon, {\n          color: \"#D97706\",\n          children: /*#__PURE__*/_jsxDEV(FiClock, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StatContent, {\n          children: [/*#__PURE__*/_jsxDEV(StatValue, {\n            children: stats.generating || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n            children: \"\\u0413\\u0435\\u043D\\u0435\\u0440\\u0438\\u0440\\u0443\\u044E\\u0442\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        children: [/*#__PURE__*/_jsxDEV(StatIcon, {\n          color: \"#7C3AED\",\n          children: /*#__PURE__*/_jsxDEV(FiDownload, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StatContent, {\n          children: [/*#__PURE__*/_jsxDEV(StatValue, {\n            children: stats.downloads || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n            children: \"\\u0421\\u043A\\u0430\\u0447\\u0438\\u0432\\u0430\\u043D\\u0438\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        children: [/*#__PURE__*/_jsxDEV(StatIcon, {\n          color: \"#4F46E5\",\n          children: /*#__PURE__*/_jsxDEV(FiFileText, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StatContent, {\n          children: [/*#__PURE__*/_jsxDEV(StatValue, {\n            children: stats.total || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n            children: \"\\u0412\\u0441\\u0435\\u0433\\u043E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(Th, {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0422\\u0438\\u043F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0421\\u043A\\u0430\\u0447\\u0438\\u0432\\u0430\\u043D\\u0438\\u0439\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: reports.length > 0 ? reports.slice(0, 50).map(report => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(Td, {\n              children: [\"#\", report.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: report.name || report.filename || `Отчет #${report.id}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: report.report_type || report.reportType || 'PDF'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: report.project_name || report.projectName || `Проект #${report.project_id || report.projectId}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n                status: report.status,\n                children: [getStatusIcon(report.status), \" \", getStatusText(report.status)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: formatFileSize(report.file_size || report.fileSize)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: report.download_count || report.downloadCount || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: report.created_at || report.createdAt ? new Date(report.created_at || report.createdAt).toLocaleDateString('ru-RU') : '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: /*#__PURE__*/_jsxDEV(DownloadButton, {\n                onClick: () => handleDownload(report),\n                disabled: report.status !== 'ready',\n                title: report.status === 'ready' ? 'Скачать отчет' : 'Отчет не готов',\n                children: [/*#__PURE__*/_jsxDEV(FiDownload, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this), report.status === 'ready' ? 'Скачать' : 'Недоступен']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 19\n            }, this)]\n          }, report.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(Td, {\n              colSpan: \"9\",\n              style: {\n                textAlign: 'center',\n                color: '#6B7280'\n              },\n              children: \"\\u041E\\u0442\\u0447\\u0435\\u0442\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminReports, \"mS5vS5pPUvZeXWOxajpzWSfBMKw=\");\n_c16 = AdminReports;\nexport default AdminReports;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Subtitle\");\n$RefreshReg$(_c5, \"StatsRow\");\n$RefreshReg$(_c6, \"StatCard\");\n$RefreshReg$(_c7, \"StatIcon\");\n$RefreshReg$(_c8, \"StatContent\");\n$RefreshReg$(_c9, \"StatValue\");\n$RefreshReg$(_c0, \"StatLabel\");\n$RefreshReg$(_c1, \"TableContainer\");\n$RefreshReg$(_c10, \"Table\");\n$RefreshReg$(_c11, \"Th\");\n$RefreshReg$(_c12, \"Td\");\n$RefreshReg$(_c13, \"StatusBadge\");\n$RefreshReg$(_c14, \"ErrorMessage\");\n$RefreshReg$(_c15, \"DownloadButton\");\n$RefreshReg$(_c16, \"AdminReports\");","map":{"version":3,"names":["React","useState","useEffect","styled","FiFileText","FiDownload","FiClock","FiCheckCircle","FiAlertCircle","LoadingSpinner","jsxDEV","_jsxDEV","Container","div","_c","Header","_c2","Title","h1","props","theme","colors","text","_c3","Subtitle","p","textMuted","_c4","StatsRow","_c5","StatCard","cardBackground","border","_c6","StatIcon","color","_c7","StatContent","_c8","StatValue","_c9","StatLabel","_c0","TableContainer","_c1","Table","table","_c10","Th","th","background","_c11","Td","td","_c12","StatusBadge","span","status","_c13","ErrorMessage","_c14","DownloadButton","button","primary","_c15","AdminReports","_s","stats","setStats","reports","setReports","loading","setLoading","error","setError","loadData","statsResponse","reportsResponse","Promise","all","fetch","headers","localStorage","getItem","ok","statsData","json","reportsData","err","console","message","getStatusIcon","fileName","_jsxFileName","lineNumber","columnNumber","getStatusText","formatFileSize","bytes","sizes","i","Math","floor","log","round","pow","handleDownload","report","file_path","link","document","createElement","href","download","filename","id","click","fullScreen","children","onClick","ready","generating","downloads","total","length","slice","map","name","report_type","reportType","project_name","projectName","project_id","projectId","file_size","fileSize","download_count","downloadCount","created_at","createdAt","Date","toLocaleDateString","disabled","title","colSpan","style","textAlign","_c16","$RefreshReg$"],"sources":["/Users/shadownight/Documents/react-app/client/src/pages/Admin/AdminReports.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiFileText, FiDownload, FiClock, FiCheckCircle, FiAlertCircle } from 'react-icons/fi';\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\n\nconst Container = styled.div`\n  padding: 2rem;\n  max-width: 1400px;\n  margin: 0 auto;\n`;\n\nconst Header = styled.div`\n  margin-bottom: 2rem;\n`;\n\nconst Title = styled.h1`\n  font-size: 2rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n  margin-bottom: 0.5rem;\n`;\n\nconst Subtitle = styled.p`\n  color: ${props => props.theme.colors.textMuted};\n  font-size: 1rem;\n`;\n\nconst StatsRow = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 2rem;\n`;\n\nconst StatCard = styled.div`\n  background: ${props => props.theme.colors.cardBackground};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 8px;\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst StatIcon = styled.div`\n  width: 48px;\n  height: 48px;\n  border-radius: 8px;\n  background: ${props => props.color}20;\n  color: ${props => props.color};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n`;\n\nconst StatContent = styled.div``;\n\nconst StatValue = styled.div`\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n`;\n\nconst StatLabel = styled.div`\n  font-size: 0.875rem;\n  color: ${props => props.theme.colors.textMuted};\n`;\n\nconst TableContainer = styled.div`\n  background: ${props => props.theme.colors.cardBackground};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 8px;\n  overflow: hidden;\n`;\n\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n`;\n\nconst Th = styled.th`\n  background: ${props => props.theme.colors.background};\n  padding: 1rem;\n  text-align: left;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n`;\n\nconst Td = styled.td`\n  padding: 1rem;\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n  color: ${props => props.theme.colors.text};\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst StatusBadge = styled.span`\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  background: ${props => {\n    switch (props.status) {\n      case 'ready': return '#059669';\n      case 'generating': return '#D97706';\n      case 'error': return '#DC2626';\n      default: return '#6B7280';\n    }\n  }}20;\n  color: ${props => {\n    switch (props.status) {\n      case 'ready': return '#059669';\n      case 'generating': return '#D97706';\n      case 'error': return '#DC2626';\n      default: return '#6B7280';\n    }\n  }};\n`;\n\nconst ErrorMessage = styled.div`\n  text-align: center;\n  padding: 2rem;\n  color: ${props => props.theme.colors.textMuted};\n`;\n\nconst DownloadButton = styled.button`\n  background: none;\n  border: none;\n  color: ${props => props.theme.colors.primary};\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  border-radius: 4px;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background: ${props => props.theme.colors.primary}10;\n  }\n\n  &:disabled {\n    color: ${props => props.theme.colors.textMuted};\n    cursor: not-allowed;\n  }\n`;\n\nconst AdminReports = () => {\n  const [stats, setStats] = useState(null);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      \n      // Загружаем статистику и список отчетов\n      const [statsResponse, reportsResponse] = await Promise.all([\n        fetch('/api/admin/stats', {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`,\n            'Content-Type': 'application/json'\n          }\n        }),\n        fetch('/api/reports', {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('uxui_lab_token')}`,\n            'Content-Type': 'application/json'\n          }\n        })\n      ]);\n\n      if (statsResponse.ok) {\n        const statsData = await statsResponse.json();\n        setStats(statsData.reports);\n      }\n\n      if (reportsResponse.ok) {\n        const reportsData = await reportsResponse.json();\n        setReports(reportsData || []);\n      }\n\n    } catch (err) {\n      console.error('Ошибка загрузки данных:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'ready': return <FiCheckCircle />;\n      case 'generating': return <FiClock />;\n      case 'error': return <FiAlertCircle />;\n      default: return <FiFileText />;\n    }\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'ready': return 'Готов';\n      case 'generating': return 'Генерируется';\n      case 'error': return 'Ошибка';\n      default: return 'Неизвестно';\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (!bytes) return '-';\n    const sizes = ['Б', 'КБ', 'МБ', 'ГБ'];\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];\n  };\n\n  const handleDownload = (report) => {\n    if (report.status === 'ready' && report.file_path) {\n      // Создаем ссылку для скачивания\n      const link = document.createElement('a');\n      link.href = report.file_path;\n      link.download = report.filename || `report_${report.id}.pdf`;\n      link.click();\n    }\n  };\n\n  if (loading) {\n    return <LoadingSpinner fullScreen />;\n  }\n\n  if (error) {\n    return (\n      <Container>\n        <ErrorMessage>\n          <h2>Ошибка загрузки данных</h2>\n          <p>{error}</p>\n          <button onClick={loadData}>Попробовать снова</button>\n        </ErrorMessage>\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <Header>\n        <Title>Управление отчетами</Title>\n        <Subtitle>Мониторинг и управление всеми отчетами в системе</Subtitle>\n      </Header>\n\n      {stats && (\n        <StatsRow>\n          <StatCard>\n            <StatIcon color=\"#059669\">\n              <FiCheckCircle />\n            </StatIcon>\n            <StatContent>\n              <StatValue>{stats.ready || 0}</StatValue>\n              <StatLabel>Готовы</StatLabel>\n            </StatContent>\n          </StatCard>\n\n          <StatCard>\n            <StatIcon color=\"#D97706\">\n              <FiClock />\n            </StatIcon>\n            <StatContent>\n              <StatValue>{stats.generating || 0}</StatValue>\n              <StatLabel>Генерируются</StatLabel>\n            </StatContent>\n          </StatCard>\n\n          <StatCard>\n            <StatIcon color=\"#7C3AED\">\n              <FiDownload />\n            </StatIcon>\n            <StatContent>\n              <StatValue>{stats.downloads || 0}</StatValue>\n              <StatLabel>Скачиваний</StatLabel>\n            </StatContent>\n          </StatCard>\n\n          <StatCard>\n            <StatIcon color=\"#4F46E5\">\n              <FiFileText />\n            </StatIcon>\n            <StatContent>\n              <StatValue>{stats.total || 0}</StatValue>\n              <StatLabel>Всего</StatLabel>\n            </StatContent>\n          </StatCard>\n        </StatsRow>\n      )}\n\n      <TableContainer>\n        <Table>\n          <thead>\n            <tr>\n              <Th>ID</Th>\n              <Th>Название</Th>\n              <Th>Тип</Th>\n              <Th>Проект</Th>\n              <Th>Статус</Th>\n              <Th>Размер</Th>\n              <Th>Скачиваний</Th>\n              <Th>Создан</Th>\n              <Th>Действия</Th>\n            </tr>\n          </thead>\n          <tbody>\n            {reports.length > 0 ? (\n              reports.slice(0, 50).map((report) => (\n                <tr key={report.id}>\n                  <Td>#{report.id}</Td>\n                  <Td>{report.name || report.filename || `Отчет #${report.id}`}</Td>\n                  <Td>{report.report_type || report.reportType || 'PDF'}</Td>\n                  <Td>\n                    {report.project_name || report.projectName || `Проект #${report.project_id || report.projectId}`}\n                  </Td>\n                  <Td>\n                    <StatusBadge status={report.status}>\n                      {getStatusIcon(report.status)} {getStatusText(report.status)}\n                    </StatusBadge>\n                  </Td>\n                  <Td>{formatFileSize(report.file_size || report.fileSize)}</Td>\n                  <Td>{report.download_count || report.downloadCount || 0}</Td>\n                  <Td>\n                    {report.created_at || report.createdAt \n                      ? new Date(report.created_at || report.createdAt).toLocaleDateString('ru-RU')\n                      : '-'}\n                  </Td>\n                  <Td>\n                    <DownloadButton\n                      onClick={() => handleDownload(report)}\n                      disabled={report.status !== 'ready'}\n                      title={report.status === 'ready' ? 'Скачать отчет' : 'Отчет не готов'}\n                    >\n                      <FiDownload />\n                      {report.status === 'ready' ? 'Скачать' : 'Недоступен'}\n                    </DownloadButton>\n                  </Td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <Td colSpan=\"9\" style={{ textAlign: 'center', color: '#6B7280' }}>\n                  Отчеты не найдены\n                </Td>\n              </tr>\n            )}\n          </tbody>\n        </Table>\n      </TableContainer>\n    </Container>\n  );\n};\n\nexport default AdminReports; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}